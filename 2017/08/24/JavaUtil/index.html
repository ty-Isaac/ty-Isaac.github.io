

<!DOCTYPE html>
<html lang="zh-Hans">
<head prefix="og: http://ogp.me/ns#">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta name="description" content="It&#39;s a bolg that belongs to a industrious programmer">
    <title>JavaUtil | Ty_Isaac</title>

    <!-- Open Graph -->
    <meta name="description" content="Directoryinstruction程序设计中一项常见的任务就是在文件集上执行操作，这些文件要么在本地目录中，要么遍布于整个目录树中。如果有一种工具能产生整个文件集，将会非常节省时间。下面的实用工具类就可以通过使用 $local()$ 方法由本地目录的文件构成的 File 对象组，或者通过 $walk()$ 方法产生给定目录下的由整个目录树中所有文件构成的 List\ ( File 对象比文件">
<meta name="keywords" content="Java util">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaUtil">
<meta property="og:url" content="http://yoursite.com/2017/08/24/JavaUtil/index.html">
<meta property="og:site_name" content="Ty_Isaac">
<meta property="og:description" content="Directoryinstruction程序设计中一项常见的任务就是在文件集上执行操作，这些文件要么在本地目录中，要么遍布于整个目录树中。如果有一种工具能产生整个文件集，将会非常节省时间。下面的实用工具类就可以通过使用 $local()$ 方法由本地目录的文件构成的 File 对象组，或者通过 $walk()$ 方法产生给定目录下的由整个目录树中所有文件构成的 List\ ( File 对象比文件">
<meta property="og:updated_time" content="2017-09-15T23:19:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaUtil">
<meta name="twitter:description" content="Directoryinstruction程序设计中一项常见的任务就是在文件集上执行操作，这些文件要么在本地目录中，要么遍布于整个目录树中。如果有一种工具能产生整个文件集，将会非常节省时间。下面的实用工具类就可以通过使用 $local()$ 方法由本地目录的文件构成的 File 对象组，或者通过 $walk()$ 方法产生给定目录下的由整个目录树中所有文件构成的 List\ ( File 对象比文件">

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "email": "mailto:undefined",
  "image": "undefined",
  "name": "TianyLi",
  "url": "http://yoursite.com"
}
</script>
    <script>
    var algoliaEnabled = false;
    
</script>

    

    
    
        <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    
    
    
        <!-- stylesheets list from config.yml -->
        
        <link rel="stylesheet" href="/css/aloha.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/magnific-popup.js/1.1.0/magnific-popup.min.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
        
    

</head>
<body id="body" style="margin-bottom: 0;" class="pushable">

    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="ui top fixed menu">
        <a class="item" id="menu-icon"><i class="sidebar icon"></i></a>
    </div>

    <div id="menu-sidebar" class="ui left vertical sidebar menu">

    <div id="sidebar-top">
        <div class="content">
            <h3>Ty_Isaac</h3>
        </div>
    </div>
    <div class="ui container sidebar-card">
    <div class="ui people shape content">
        <div class="active side">
            <div class="ui card">
                <div class="image">
                    <img class="ui medium bordered image" src="/images/avatar.jpg">
                </div>
                <div class="content">
                    <a class="header">TianyLi</a>
                    
                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                        
                    </div>

                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

    
    

    

    
    <a href="/index.html" class="item" >
        <i class="home icon"></i>
        HOME
    </a>

    

    
</div>

    <div class="pusher body-content">
        <div id="content" class="ui main container">
            <!--<div class="ui one column grid">-->
                <!--<div class="column">-->
                    <!--<div class="ui main container">-->
                        <div id="post-JavaUtil" class="ui main container article-type-post">

    

    <div class="ui divided grid">

        <div class="two column row" id="article-content">

            <div class="thirteen wide computer thirteen wide tablet sixteen wide mobile column">
                

<h1 class="ui header">
    
    JavaUtil
</h1>



                <div class="article-inner">

                    <div class="article-entry" itemprop="articleBody">
                        
                        <h1 id="Directory"><a href="#Directory" class="headerlink" title="Directory"></a>Directory</h1><h2 id="instruction"><a href="#instruction" class="headerlink" title="instruction"></a>instruction</h2><p>程序设计中一项常见的任务就是在文件集上执行操作，这些文件要么在本地目录中，要么遍布于整个目录树中。如果有一种工具能产生整个文件集，将会非常节省时间。下面的实用工具类就可以通过使用 $local()$ 方法由本地目录的文件构成的 File 对象组，或者通过 $walk()$ 方法产生给定目录下的由整个目录树中所有文件构成的 List\<file> ( File 对象比文件更有用，因为 File 包含更多的信息)。这些文件是基于你提供的正则表达式而被选中的</file></p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> categoryUtil;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.File;</div><div class="line"><span class="keyword">import</span> java.io.FilenameFilter;</div><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.Iterator;</div><div class="line"><span class="keyword">import</span> java.util.List;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by isaac on 2017/8/24.</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Directory</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> File[] local(File dir,<span class="keyword">final</span> String regex)&#123;</div><div class="line">        <span class="keyword">return</span> dir.listFiles(<span class="keyword">new</span> FilenameFilter() &#123;</div><div class="line">            <span class="keyword">private</span> Pattern pattern = Pattern.compile(regex);</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</div><div class="line">                <span class="keyword">return</span> pattern.matcher(<span class="keyword">new</span> File(name).getName()).matches();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> File[] local(String path,<span class="keyword">final</span> String regex)&#123;</div><div class="line">        <span class="comment">//Override</span></div><div class="line">        <span class="keyword">return</span> local(<span class="keyword">new</span> File(path),regex);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//A two-tuple for returning a pair of objects:</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeInfo</span> <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">File</span>&gt;</span>&#123;</div><div class="line">        <span class="keyword">public</span> List&lt;File&gt; files = <span class="keyword">new</span> ArrayList&lt;File&gt;();</div><div class="line">        <span class="keyword">public</span> List&lt;File&gt; dirs = <span class="keyword">new</span> ArrayList&lt;File&gt;();</div><div class="line"></div><div class="line">        <span class="comment">//The default iterable elements is the file list:</span></div><div class="line">        <span class="function"><span class="keyword">public</span> Iterator&lt;File&gt; <span class="title">iterator</span><span class="params">()</span></span>&#123;</div><div class="line">            <span class="keyword">return</span> files.iterator();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">addAll</span><span class="params">(TreeInfo other)</span></span>&#123;</div><div class="line">            files.addAll(other.files);</div><div class="line">            dirs.addAll(other.dirs);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">"dirs : "</span> + PPrint.pformat(dirs) +</div><div class="line">                    <span class="string">"\n\n files : "</span> + PPrint.pformat(files);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TreeInfo <span class="title">walk</span><span class="params">(String start,String regex)</span></span>&#123;</div><div class="line">        <span class="comment">//Begin recursion</span></div><div class="line">        <span class="keyword">return</span> recurseDirs(<span class="keyword">new</span> File(start),regex);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TreeInfo <span class="title">walk</span><span class="params">(File start,String regex)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> recurseDirs(start,regex);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TreeInfo <span class="title">walk</span><span class="params">(File start)</span></span>&#123;</div><div class="line">        <span class="comment">//Everything</span></div><div class="line">        <span class="keyword">return</span> recurseDirs(start,<span class="string">".*"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TreeInfo <span class="title">walk</span><span class="params">(String start)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> recurseDirs(<span class="keyword">new</span> File(start),<span class="string">".*"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">static</span> TreeInfo <span class="title">recurseDirs</span><span class="params">(File startDir,String regex)</span></span>&#123;</div><div class="line">        TreeInfo result = <span class="keyword">new</span> TreeInfo();</div><div class="line">        <span class="keyword">for</span>(File item : startDir.listFiles())&#123;</div><div class="line">            <span class="keyword">if</span>(item.isDirectory())&#123;</div><div class="line">                result.dirs.add(item);</div><div class="line">                result.addAll(recurseDirs(item,regex));</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(item.getName().matches(regex))&#123;</div><div class="line">                result.files.add(item);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Testify"><a href="#Testify" class="headerlink" title="Testify"></a>Testify</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">  <span class="keyword">if</span>(args.length==<span class="number">0</span>)</div><div class="line">    System.out.println(walk(<span class="string">"."</span>));</div><div class="line">  <span class="keyword">else</span></div><div class="line">    <span class="keyword">for</span>(String arg : agrs)</div><div class="line">      System.out.println(walk(arg));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Pretty-Print"><a href="#Pretty-Print" class="headerlink" title="Pretty Print"></a>Pretty Print</h1><h2 id="Instrcution"><a href="#Instrcution" class="headerlink" title="Instrcution"></a>Instrcution</h2><p>容器默认的toString方法会在单个行中打印容器中的所有元素，对于大型集合来说，这会变得难以阅读，本工具可替换其格式。添加新行并缩排所有的元素的工具</p>
<h2 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> categoryUtil;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by isaac on 2017/8/24.</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PPrint</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">pformat</span><span class="params">(Collection&lt;?&gt; c)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(c.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">"[]"</span>;</div><div class="line">        StringBuffer result = <span class="keyword">new</span> StringBuffer(<span class="string">" [ "</span>);</div><div class="line">        <span class="keyword">for</span>(Object elem : c)&#123;</div><div class="line">            <span class="keyword">if</span>(c.size() != <span class="number">1</span>)</div><div class="line">                result.append(<span class="string">"\n  "</span>);</div><div class="line">            result.append(elem);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(c.size()==<span class="number">1</span>)</div><div class="line">            result.append(<span class="string">"\n"</span>);</div><div class="line">        result.append(<span class="string">" ] "</span>);</div><div class="line">        <span class="keyword">return</span> result.toString();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">pprint</span><span class="params">(Collection&lt;?&gt; c)</span></span>&#123;</div><div class="line">        System.out.println(pformat(c));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">pprint</span><span class="params">(Object[] c)</span></span>&#123;</div><div class="line">        System.out.println(Arrays.asList(c));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

                        
                    </div>

                    
                    
                    

                    <div class="description post-description">
    <span class="post-description-item">
        <time datetime="2017-08-24T01:04:16.000Z" itemprop="datePublished">2017-08-24</time>

    </span>
    <span class="post-description-item">
        

    <span>
        <i class="tags icon"></i>
    </span>

    
    <span class="ui tiny label">
        <a href="/tags/Java-util/">Java util</a>
    </span>

    

    </span>
</div>

                </div>
                
                <div id="pagination" class="nav-web ui text container pagination">

    <div class="ui stackable two column divided grid container">
        <div class="row">
            <div class="column nav-left">
                

                <a href="/2017/08/23/HibernateStudy/" class="ui tiny button">

                    <i class="angle left icon"></i>
                    
                    Hibernate Study
                    

                </a>

                
            </div>
            <div class="column nav-right">
                

                <a href="/2017/08/25/Education/" class="ui tiny button">
                    
                    Education
                    
                    <i class="angle right icon"></i></a>
                
            </div>
        </div>
    </div>

</div>
                
            </div>

            
            <div class="three wide computer three wide tablet column">

                <div class="ui sticky article-toc" id="article-toc">
                    <!-- toc -->
                    <ol class="ui ordered list"><li><a href="#Directory"><span>Directory</span></a><ol><li><a href="#instruction"><span>instruction</span></a></li><li><a href="#Code"><span>Code</span></a></li><li><a href="#Testify"><span>Testify</span></a></li></ol></li><li><a href="#Pretty-Print"><span>Pretty Print</span></a><ol><li><a href="#Instrcution"><span>Instrcution</span></a></li><li><a href="#Code-1"><span>Code</span></a></li></ol></li></ol>
                </div>

            </div>
            

        </div>
    </div>
</div>


                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <div class="ui inverted section divider"></div>
        &copy; 2018 <a href="/">TianyLi</a>,
        Powered by <a href="https://github.com/henryhuang/hexo-theme-aloha" target="_blank">Aloha</a> and <a
                href="http://hexo.io/" target="_blank">Hexo</a>.
    </div>
</div>

    </div>




<!-- scripts list from theme config.yml -->

<script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>

<script src="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch/3.18.1/algoliasearch.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch-helper-js/2.13.0/algoliasearch.helper.min.js"></script>

<script src="/js/semantic-ui-algolia.js"></script>

<script src="/js/aloha-events.js"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



</body>
</html>
